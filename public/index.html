<html>
<head>
<title>NODEJS HOME AUTOMATIONS V1.0</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		
<style>

*{ 
margin:0; 
padding:0; 
}
@font-face {
font-family: 'berthold_akzidenz_groteskCn';
src: url('../data/fonts/akzidenzgroteskbe-cn-webfont.eot');
src: url('../data/fonts/akzidenzgroteskbe-cn-webfont.eot?#iefix') format('embedded-opentype'),
url('../data/fonts/akzidenzgroteskbe-cn-webfont.woff') format('woff'),
url('../data/fonts/akzidenzgroteskbe-cn-webfont.ttf') format('truetype'),
url('../data/fonts/akzidenzgroteskbe-cn-webfont.svg#berthold_akzidenz_groteskCn') format('svg');
font-weight: normal;
font-style: normal;
}
html, body, div, span, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
abbr, address, cite, code,
del, dfn, em, img, ins, kbd, q, samp,
small, strong, sub, sup, var,
b, i,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
margin:0;
padding:0;
border:0;
outline:0;
font-size:100%;
vertical-align:baseline;
background:transparent;
}
html,
body {
background:#151515;
color:#c5c5c5;
width:100%;
height:100%;
}
body {
font-family: 'berthold_akzidenz_groteskCn';
font-style: normal;
font-size: 62.5%;
overflow-y: auto;
letter-spacing: 0.08em;
background:transparent;
text-align:left;
}
#container {
margin:0;
padding: 5px 5px 0 5px;
border:0;
outline:0;
width:100%;
height:auto;
display:block;
box-sizing: border-box;
}
#topholder {
width:100%;
display:block;
margin:0;
padding:0;
border:0;
position:relative;
box-sizing: border-box;
}
#holder {
width:100%;
display:block;
background:#151515;
position:relative;
margin:0;
padding:0;
border:0;
box-sizing: border-box;
}
img{
margin:0;
padding:0;
border:0;
outline:0;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-o-user-select: none;
user-select: none;
}
.clearall{
clear:both;
}
.noshow {
opacity: 0;
display:none;
}

h1 { 
color: #c5c5c5;
font-size: 1.5em;
line-height: 1.0em;
font-weight: normal;
margin: 0px;
text-transform:uppercase;
}
.prefix{ 
color: #4292f4;
float:left;
margin-right: 10px;
}
.green {
color: #0fd600;
}
.darkgreen {
color: #0a8c01;
}
.orange {
color: #ff7200;
}
.white {
color: #fff;
}
h2 { 
color: #c5c5c5;
font-size: 2.5em;
line-height: 1.0em;
font-weight: normal;
margin: 0px;
text-transform:uppercase;
}

.butt { 
margin: 0px;
width:194px;
height: 100px;
font-size: 2em;
line-height: 100px;
padding:0;
border:0;
cursor: pointer !important;
margin:0px 5px 5px 0px;
display:block;
float:left;
outline:0;
background:#bb1313 url('../data/img/corner.png') no-repeat top right;
text-align:center;
}

.stream { 
margin: 0px;
width:393px;
height: 205px;
padding:0;
border:2px solid #4292f4;
cursor: none !important;
margin:0px 5px 5px 0px;
display:block;
float:left;
outline:0;
background-color:#007f8a;
text-align:center;
box-sizing: border-box;
}

.stream img { 
width:100%;
height: 100%;
padding:0;
border:0;
cursor: none !important;
margin:0;
display:block;
outline:0;
background-color:#007f8a;
text-align:center;
-webkit-touch-callout: none !important;
-webkit-user-select: none !important;
-khtml-user-select: none !important;
-moz-user-select: none !important;
-ms-user-select: none !important;
user-select: none !important;
}

#feedbackholder {
display:block;
width:100%;
padding:10px;
margin:0 0 5px 0;
border:2px solid #4292f4;
box-sizing: border-box;
font-size: 2em;
line-height: 1.0em;
font-weight: normal;
text-transform:uppercase;
color: #c5c5c5;
background: #222;
}



@media screen and (max-width: 800px) {

body {
font-family: 'berthold_akzidenz_groteskCn';
font-style: normal;
font-size: 62.5%;
overflow-y: hidden;
overflow-x: hidden;
letter-spacing: 0.08em;
background:transparent;
text-align:left;
cursor: none !important;
   -webkit-touch-callout: none !important;
   -webkit-user-select: none !important;
   -khtml-user-select: none !important;
   -moz-user-select: none !important;
   -ms-user-select: none !important;
   user-select: none !important;
}
#container {
margin:0;
padding: 5px 4px 0 4px;
border:0;
outline:0;
width:100%;
height:auto;
display:block;
cursor: none !important;
box-sizing: border-box;
}
.stream { 
margin: 0px;
width:393px;
height: 205px;
padding:0;
border:0;
cursor: none !important;
margin:0px 0px 5px 5px;
display:block;
float:left;
outline:0;
background-color:#007f8a;
text-align:center;
   -webkit-touch-callout: none !important;
   -webkit-user-select: none !important;
   -khtml-user-select: none !important;
   -moz-user-select: none !important;
   -ms-user-select: none !important;
   user-select: none !important;
}
.stream img { 
margin: 0px;
width:100%;
height: 100%;
padding:0;
border:0;
cursor: none !important;
margin:0;
display:block;
outline:0;
background-color:#007f8a;
text-align:center;
   -webkit-touch-callout: none !important;
   -webkit-user-select: none !important;
   -khtml-user-select: none !important;
   -moz-user-select: none !important;
   -ms-user-select: none !important;
   user-select: none !important;
}

.butt { 
margin: 0px;
width:194px;
height: 100px;
font-size: 2em;
line-height: 100px;
padding:0;
border:0;
cursor: none !important;
margin:0px 5px 5px 0px;
display:block;
float:left;
outline:0;
background:#bb1313 url('../data/img/corner.png') no-repeat top right;
text-align:center;
   -webkit-touch-callout: none !important;
   -webkit-user-select: none !important;
   -khtml-user-select: none !important;
   -moz-user-select: none !important;
   -ms-user-select: none !important;
   user-select: none !important;
    }

.butt:nth-child(4n+4) {
   margin:0px 0px 5px 0px; 
}

#feedbackholder {
display:block;
width:100%;
padding:10px;
margin:0 5px 5px 0;
border:2px solid #4292f4;
box-sizing: border-box;
font-size: 2em;
line-height: 1.0em;
font-weight: normal;
text-transform:uppercase;
color: #c5c5c5;
background: #222;
}

}


@media screen and (max-width: 380px) {

*{ 
margin:0; 
padding:0; 
-webkit-user-select: none !important;
cursor: none !important;
}

body {
font-family: 'berthold_akzidenz_groteskCn';
font-style: normal;
font-size: 62.5%;
overflow-y: hidden;
overflow-x: hidden;
letter-spacing: 0.08em;
background:transparent;
text-align:left;
cursor: none;

}
#container {
margin:0;
padding: 10px 10px 0 10px;
border:0;
outline:0;
width:100%;
height:100%;
cursor: none !important;
display: flex;
flex-flow: column;
box-sizing: border-box;
}

#topholder {
width:100%;
display:block;
margin:0;
padding:0;
border:0;
box-sizing: border-box;
}

#holder {
position:relative;
width:100%;
flex: 1 1 auto;
margin:0;
padding:0;
border:0;
box-sizing: border-box;
height:100%;
overflow-x:hidden;
}

img{
margin:0;
padding:0;
border:0;
outline:0;
cursor: none !important;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-o-user-select: none;
user-select: none;
}

.stream { 
margin: 0px;
width:100%;
height: auto;
padding:0;
border:2px solid #4292f4;
cursor: none !important;
margin:0 0 10px 0;
display:block;
outline:0;
background-color:#007f8a;
text-align:center;
box-sizing: border-box;
-webkit-touch-callout: none !important;
-webkit-user-select: none !important;
-khtml-user-select: none !important;
-moz-user-select: none !important;
-ms-user-select: none !important;
user-select: none !important;
}

.stream img { 
margin: 0px;
width:100%;
height: 100%;
padding:0;
border:0;
cursor: none !important;
margin:0;
display:block;
outline:0;
background-color:#007f8a;
text-align:center;
-webkit-touch-callout: none !important;
-webkit-user-select: none !important;
-khtml-user-select: none !important;
-moz-user-select: none !important;
-ms-user-select: none !important;
user-select: none !important;
}

.butt { 
margin: 0px;
width:100%;
height: 100px;
font-size: 3em;
line-height: 100px;
padding:0;
border:0;
cursor: none !important;
margin:0 0 10px 0;
display:block;
outline:0;
background:#bb1313 url('../data/img/corner.png') no-repeat top right;
text-align:center;
-webkit-touch-callout: none !important;
-webkit-user-select: none !important;
-khtml-user-select: none !important;
-moz-user-select: none !important;
-ms-user-select: none !important;
user-select: none !important;
}
.butt:nth-child(4n+4) {
   margin:0px 0px 10px 0px; 
}

#feedbackholder {
display:block;
width:100%;
padding:10px;
margin:0 0 10px 0;
border:2px solid #4292f4;
box-sizing: border-box;
font-size: 2em;
line-height: 1.0em;
font-weight: normal;
text-transform:uppercase;
color: #c5c5c5;
background: #222;
}


}
</style>

<script src="socket.io/socket.io.js"></script>

</head>
<body>

<div id="container">

	<div id="topholder">

		<div id="feedbackholder"><h1 class="prefix">Last status message: </h1><span id="feedback"><h1>No Connection with back-end</h1></span></div>

	</div>

	<div id="holder">

		<div class="butt" id="relay5" onclick="relay(5);"> WORKSTATION 1</div> 
		<div class="butt" id="relay6" onclick="relay(6);"> WORKSTATION 2 </div> 
		<div class="butt" id="relay7" onclick="relay(7);"> MEDIA PI2 </div> 

		<div class="butt" id="relay1" onclick="relay(1);"> NODE1 </div> 
		<div class="butt" id="relay2" onclick="relay(2);"> NODE2 </div> 
		<div class="butt" id="relay3" onclick="relay(3);"> NODE3 </div> 
		<div class="butt" id="relay4" onclick="relay(4);"> NODE4 </div>

		<div class="butt" id="relay8" onclick="relay(8);"> SERIAL1 </div>
		<div class="butt" id="relay9" onclick="relay(9);"> SERIAL2 </div>

	</div>

</div>

<script>

	var socket = io.connect();
	var Feedback = document.getElementById("feedback");

// EMIT ID TO BACKEND

	function relay(data){
		socket.emit('relaycmd', { value: data });
	}


// BUTTON ON/OFF STATUSSES

	socket.on('relayCallback', function (data) {

		var id = data.id
       	var active = data.active

    // ON
	       	if (active == 1) {
					if (id == 5 || id == 6 || id == 7) {
						document.getElementById("relay" + id).style.backgroundColor = "#4e9c37";
						Feedback.innerHTML = "<h1>WORKSTATION ONLINE</h1>";
					} else if (id == 8 || id == 9) {
						document.getElementById("relay" + id).style.backgroundColor = "#4056d1";
						Feedback.innerHTML = "<h1>REMOTE SERIAL "+id+" CALL ON</h1>";
					} else {
						document.getElementById("relay" + id).style.backgroundColor = "#10a620";
						Feedback.innerHTML = "<h1>Node "+id+" ON</h1>";
					}

	// OFF
			} else if (active == 0) {
					document.getElementById("relay" + id).style.backgroundColor = "#bb1313";

				// WAKE ON LAN BUTTONS
					if (id == 5 || id == 6 || id == 7) {
						Feedback.innerHTML = "<h1>WORKSTATION OFFLINE</h1>";
				// SERIAL BUTTONS
					} else if (id == 8 || id == 9) {
						Feedback.innerHTML = "<h1>REMOTE SERIAL "+id+" CALL OFF</h1>";
				// RELAY BUTTONS
					} else {
						Feedback.innerHTML = "<h1>NODE "+id+" OFF</h1>";
					}

	// TEMP BOOTING WAKEONLAN/SERIAL STATUS 
			} else if (active == 3) {			
						Feedback.innerHTML = "<h1>COMPUTER BOOTING</h1>";
						document.getElementById("relay" + id).style.backgroundColor = "#9b59a8";
			} else if (active == 4) {			
						Feedback.innerHTML = "<h1>SERIAL " + id + " </h1>";
						document.getElementById("relay" + id).style.backgroundColor = "#9b59a8";
			}
	});


    

</script></body>
</html>